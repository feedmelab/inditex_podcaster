{"ast":null,"code":"import React,{useEffect,useMemo}from\"react\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{fetchPodcasts}from\"../../features/podcast/podcastSlice\";import{Avatar,PodcastContainer,PodcastData,PodcastItem}from\"./PodcastList.styles\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var PodcastList=function PodcastList(){var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.podcast;}),podcasts=_useSelector.podcasts,status=_useSelector.status,filter=_useSelector.filter,error=_useSelector.error;useEffect(function(){if(status===\"idle\"){dispatch(fetchPodcasts());}},[dispatch,status]);var handlePodcastClick=function handlePodcastClick(podcast){navigate(\"/podcast/\".concat(podcast.id),{state:{summary:podcast.summary}});};var filteredPodcasts=useMemo(function(){return podcasts.filter(function(podcast){var name=podcast[\"im:name\"].label.toLowerCase();var artist=podcast[\"im:artist\"].label.toLowerCase();var filterValue=filter.toLowerCase();return name.includes(filterValue)||artist.includes(filterValue);});},[podcasts,filter]);if(error){console.error(\"Error loading podcasts: \".concat(error));return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error loading podcasts: \",error,\". Please try again later.\"]});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PodcastContainer,{children:filteredPodcasts!==null&&filteredPodcasts!==void 0&&filteredPodcasts.length?filteredPodcasts.map(function(podcast,index){return/*#__PURE__*/_jsx(PodcastItem,{\"data-testid\":\"podcast-item\",onClick:function onClick(){return handlePodcastClick(podcast);},children:/*#__PURE__*/_jsxs(PodcastData,{className:\"card px-2 grow-effect\",children:[podcast[\"im:image\"][0]&&/*#__PURE__*/_jsx(Avatar,{children:/*#__PURE__*/_jsx(\"img\",{\"data-testid\":\"podcast-image\",src:podcast&&podcast[\"im:image\"][2].label,alt:podcast&&podcast[\"im:name\"].label,onError:function onError(e){e.target.src=\"/img/404.jpeg\";}})}),/*#__PURE__*/_jsx(\"h2\",{\"data-testid\":\"podcast-name\",children:podcast[\"im:name\"].label.toUpperCase()}),/*#__PURE__*/_jsxs(\"p\",{\"data-testid\":\"podcast-author\",children:[\"Author: \",podcast[\"im:artist\"].label]})]})},index);}):/*#__PURE__*/_jsx(\"p\",{children:\"Descargando podcasts, por favor espere...\"})})});};export default PodcastList;","map":{"version":3,"names":["React","useEffect","useMemo","useNavigate","useSelector","useDispatch","fetchPodcasts","Avatar","PodcastContainer","PodcastData","PodcastItem","jsxs","_jsxs","jsx","_jsx","PodcastList","navigate","dispatch","_useSelector","state","podcast","podcasts","status","filter","error","handlePodcastClick","concat","id","summary","filteredPodcasts","name","label","toLowerCase","artist","filterValue","includes","console","children","length","map","index","onClick","className","src","alt","onError","e","target","toUpperCase"],"sources":["/Users/xavitorner/Downloads/inditex_podcaster/src/components/PodcastList/PodcastList.jsx"],"sourcesContent":["import React, { useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchPodcasts } from \"../../features/podcast/podcastSlice\";\n\nimport {\n  Avatar,\n  PodcastContainer,\n  PodcastData,\n  PodcastItem,\n} from \"./PodcastList.styles\";\n\nconst PodcastList = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { podcasts, status, filter, error } = useSelector(\n    (state) => state.podcast\n  );\n\n  useEffect(() => {\n    if (status === \"idle\") {\n      dispatch(fetchPodcasts());\n    }\n  }, [dispatch, status]);\n\n  const handlePodcastClick = (podcast) => {\n    navigate(`/podcast/${podcast.id}`, {\n      state: { summary: podcast.summary },\n    });\n  };\n\n  const filteredPodcasts = useMemo(\n    () =>\n      podcasts.filter((podcast) => {\n        const name = podcast[\"im:name\"].label.toLowerCase();\n        const artist = podcast[\"im:artist\"].label.toLowerCase();\n        const filterValue = filter.toLowerCase();\n        return name.includes(filterValue) || artist.includes(filterValue);\n      }),\n    [podcasts, filter]\n  );\n\n  if (error) {\n    console.error(`Error loading podcasts: ${error}`);\n    return <div>Error loading podcasts: {error}. Please try again later.</div>;\n  }\n\n  return (\n    <div>\n      <PodcastContainer>\n        {filteredPodcasts?.length ? (\n          filteredPodcasts.map((podcast, index) => (\n            <PodcastItem\n              key={index}\n              data-testid='podcast-item'\n              onClick={() => handlePodcastClick(podcast)}\n            >\n              <PodcastData className='card px-2 grow-effect'>\n                {podcast[\"im:image\"][0] && (\n                  <Avatar>\n                    <img\n                      data-testid='podcast-image'\n                      src={podcast && podcast[\"im:image\"][2].label}\n                      alt={podcast && podcast[\"im:name\"].label}\n                      onError={(e) => {\n                        e.target.src = \"/img/404.jpeg\";\n                      }}\n                    />\n                  </Avatar>\n                )}\n                <h2 data-testid='podcast-name'>\n                  {podcast[\"im:name\"].label.toUpperCase()}\n                </h2>\n                <p data-testid='podcast-author'>\n                  Author: {podcast[\"im:artist\"].label}\n                </p>\n              </PodcastData>\n            </PodcastItem>\n          ))\n        ) : (\n          <p>Descargando podcasts, por favor espere...</p>\n        )}\n      </PodcastContainer>\n    </div>\n  );\n};\n\nexport default PodcastList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}